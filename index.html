<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ImportIO Java Facilitator by thuzhen</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">ImportIO Java Facilitator</h1>
        <p class="header">Making ImportIO simpler with Java.</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/thuzhen/facilitator/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/thuzhen/facilitator/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/thuzhen/facilitator">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/thuzhen">thuzhen</a></p>


      </header>
      <section>
        <h1>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p>Facilitator is a project that aims to integrate ImportIO better in Java apps by caching and parsing data retrieved by ImportIO.
This project is just a hobby and is not affiliated with ImportIO.</p>

<h1>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h1>

<h2>
<a name="integration-with-pojos" class="anchor" href="#integration-with-pojos"><span class="octicon octicon-link"></span></a>Integration with POJOs</h2>

<p>Facilitator provides an easy and quick way to get POJOs out of your data. Let's see how.</p>

<h3>
<a name="create-an-ioclients-instance" class="anchor" href="#create-an-ioclients-instance"><span class="octicon octicon-link"></span></a>Create an IOClient's instance.</h3>

<p>IOClient is a special subclass of ImportIO that provides all the tools to parse your data.</p>

<div class="highlight highlight-java"><pre><span class="n">IOClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IOClient</span> <span class="o">(</span><span class="s">"YOURUSERID"</span><span class="o">,</span> <span class="s">"YOURSECRETKEY"</span><span class="o">);</span>
</pre></div>

<h4>
<a name="notes" class="anchor" href="#notes"><span class="octicon octicon-link"></span></a>Notes</h4>

<ul>
<li>You don't have to use UUID class to handler your user id, IOClient will do it for you.</li>
</ul><h3>
<a name="create-a-classic-importio-query" class="anchor" href="#create-a-classic-importio-query"><span class="octicon octicon-link"></span></a>Create a classic ImportIO Query.</h3>

<p>Your query can be almost anything, bug some types are not currently handled. See below.</p>

<h3>
<a name="get-a-pojo-class-ready-to-handle-you-data" class="anchor" href="#get-a-pojo-class-ready-to-handle-you-data"><span class="octicon octicon-link"></span></a>Get a POJO class ready to handle you data.</h3>

<p>Mark the fields you want to fill with <a href="https://github.com/Attribute" class="user-mention">@Attribute</a>("name") annotation with "name" being the column name of your data in ImportIO. Here's an example that could describe a product from a website such as Amazon.</p>

<div class="highlight highlight-java"><pre><span class="kd">class</span> <span class="nc">Product</span>
<span class="o">{</span>
  <span class="nd">@Id</span>
  <span class="kd">protected</span> <span class="kt">long</span> <span class="n">id</span><span class="o">;</span>
  <span class="nd">@Attribute</span><span class="o">(</span><span class="s">"name"</span><span class="o">)</span>
  <span class="kd">protected</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="nd">@Attribute</span><span class="o">(</span><span class="s">"image"</span><span class="o">)</span>
  <span class="kd">protected</span> <span class="n">String</span> <span class="n">imageUrl</span><span class="o">;</span>
  <span class="nd">@Attribute</span><span class="o">(</span><span class="s">"price"</span><span class="o">)</span>
  <span class="kd">protected</span> <span class="n">Money</span> <span class="n">price</span><span class="o">;</span>
  <span class="o">...</span>
  <span class="kd">protected</span> <span class="n">Integer</span> <span class="n">someOtherField</span>
  <span class="o">...</span>
<span class="o">}</span>
</pre></div>

<h4>
<a name="notes-1" class="anchor" href="#notes-1"><span class="octicon octicon-link"></span></a>Notes</h4>

<ul>
<li>The project currently supports two String, Date and Money but more will come.</li>
<li>
<a href="https://github.com/Id" class="user-mention">@Id</a> attribute allows you to get the id of the row</li>
</ul><h3>
<a name="use-your-ioclient-to-query-the-server" class="anchor" href="#use-your-ioclient-to-query-the-server"><span class="octicon octicon-link"></span></a>Use your IOClient to query the server</h3>

<p>It will get you a list of POJO instances. You will have to tell the client which class it should generate (here, Product.class)</p>

<div class="highlight highlight-java"><pre><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span> <span class="n">products</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">populate</span><span class="o">(</span><span class="n">query</span><span class="o">,</span> <span class="n">Product</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre></div>

<h4>
<a name="notes-2" class="anchor" href="#notes-2"><span class="octicon octicon-link"></span></a>Notes</h4>

<ul>
<li>By default, the client will cache request in memory, so if you execute the same query multiple times, it won't get fresh data. To change this behaviour pass a third argument to populate like <code>client.populate(query, Product.class, true);</code>
</li>
</ul><h2>
<a name="in-memory-caching" class="anchor" href="#in-memory-caching"><span class="octicon octicon-link"></span></a>In-memory caching</h2>

<p>Facilitator automatically cache all the queries you make (actually no more than 200 to save memory) with a TTL of one hour. Which means that if you call populate() again with the same query, it won't reload fresh data unless you force refresh (passing true a the third parameter) or the TTL has expired.</p>

<h1>
<a name="authors-and-contributors" class="anchor" href="#authors-and-contributors"><span class="octicon octicon-link"></span></a>Authors and Contributors</h1>

<ul>
<li>Original Author: <a href="https://github.com/thuzhen" class="user-mention">@thuzhen</a>
</li>
<li>Awesome money implementation: <a href="https://github.com/JodaOrg" class="user-mention">@JodaOrg</a> (<a href="https://github.com/JodaOrg/joda-money">https://github.com/JodaOrg/joda-money</a>)</li>
<li>Caching uses Kitty-cache (<a href="http://code.google.com/p/kitty-cache/">http://code.google.com/p/kitty-cache/</a>)</li>
</ul>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
